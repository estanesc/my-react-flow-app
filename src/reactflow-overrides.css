/* Overrides for React Flow controls to increase button size */
.react-flow__controls {
  gap: 8px;
}
.react-flow__controls button {
  width: 48px !important;
  height: 48px !important;
  padding: 6px !important;
  border-radius: 8px !important;
  box-shadow: 0 4px 10px rgba(0,0,0,0.12) !important;
  border: 1px solid rgba(255,255,255,0.12) !important;
  background: rgba(255,255,255,0.06) !important;
}
.react-flow__controls button svg {
  width: 22px !important;
  height: 22px !important;
}
.react-flow__controls button:hover {
  transform: none !important;
  background: rgba(255,255,255,0.12) !important;
  border-color: rgba(255,255,255,0.18) !important;
}

/* Slightly increase the minimap controls (if present) */
.react-flow__minimap .react-flow__controls button {
  width: 40px !important;
  height: 40px !important;
}

/* Visual indicator for the selected node (when Node Details is open) */
.react-flow__node.selected .element,
.react-flow__node.react-flow__node-selected .element {
  outline: 8px solid rgba(143, 7, 43, 0.95);
  outline-offset: 4px;
  box-shadow: 0 15px 35px rgba(30,144,255,0.12) !important;
  border-color: rgba(143, 7, 43, 0.95) !important;
  transform: translateY(-2px);
}

/* Slightly emphasize the label inside selected node */
.react-flow__node.selected .node-label,
.react-flow__node.react-flow__node-selected .node-label {
  text-shadow: 0 2px 8px rgba(30,144,255,0.12);
}

/* Dark theme adjustments for controls and panels */
.react-flow__controls .react-flow__controls__button {
  /* ensure specific control buttons (zoom, fit) are emphasized */
  border: 1px solid rgba(255,255,255,0.12) !important;
  background: rgba(255,255,255,0.06) !important;
  color: var(--element-color-on) !important;
}
.react-flow__controls .react-flow__controls__button:hover,
.react-flow__controls .react-flow__controls__button:focus {
  background: rgba(255,255,255,0.14) !important;
  border-color: rgba(255,255,255,0.22) !important;
  outline: none !important;
}
.react-flow__controls .react-flow__controls__button svg {
  fill: var(--element-color-on) !important;
}

/* Mini map background tweak */
.react-flow__minimap {
  background: rgba(255,255,255,0.02) !important;
  border: 1px solid rgba(255,255,255,0.04) !important;
}

/* Legend (node type key) */
.rf-legend {
  position: absolute;
  left: 12px;
  top: 12px;
  z-index: 30;
  display: flex;
  flex-direction: column;
  gap: 8px;
  background: rgba(11,18,32,0.64);
  padding: 8px;
  border-radius: 8px;
  backdrop-filter: blur(6px);
  color: var(--element-color-on);
  font-size: 13px;
  border: 1px solid rgba(255,255,255,0.04);
}
.rf-legend-item { display:flex; align-items:center; gap:8px; }
.rf-legend-swatch { width:18px; height:12px; border-radius:3px; box-shadow: 0 1px 0 rgba(0,0,0,0.12); border: 1px solid rgba(0,0,0,0.06); }
.rf-legend-label { opacity: 0.95; color: var(--element-color-on); }
